# 工作流文档目录

此目录用于存放由 Claude Code Agents 协作生成的开发过程文档。

## 📁 文档结构

每个完整的开发流程会产生以下文档：

### 01_需求文档.md
**生成者**：requirement-analyst
**用途**：记录需求分析过程和最终确认的需求

**包含内容**：
- 需求概述（背景、目标、用户）
- 功能性需求（详细功能描述和验收标准）
- 非功能性需求（性能、安全、兼容性等）
- 约束条件（技术、时间、其他限制）
- 范围说明（包含和不包含的内容）
- 验收标准总览

### 02_技术选型文档.md
**生成者**：architect-analyst
**用途**：记录技术架构设计和技术选型决策

**包含内容**：
- 需求技术分析
- 系统架构设计（MVVM 分层架构）
- 技术选型对比（如有新技术引入）
- 功能模块划分
- 数据流向设计
- 网络请求和数据库设计
- 性能优化策略
- 技术风险评估
- ASCII 架构图

### 03_任务分解.md
**生成者**：task-planner
**用途**：将需求和架构转化为可执行的任务列表

**包含内容**：
- 任务概览（总任务数、预计耗时）
- 分阶段任务列表：
  - 环境准备
  - 数据层开发（Model + Repository）
  - 业务层开发（ViewModel + State）
  - 表现层开发（UI）
  - 集成与测试
- 每个任务包含：
  - 描述、优先级、预计耗时
  - 依赖关系、验收标准
  - 涉及文件、代码示例
- 任务依赖关系图
- 执行顺序建议

### 04_代码评审报告_[N].md
**生成者**：code-reviewer
**用途**：记录代码评审发现的问题和建议

**包含内容**：
- 🚨 Critical Issues（必须修复）
- ⚠️ Warnings（应该修复）
- 💡 Suggestions（考虑改进）
- 每个问题包含：
  - 位置（文件和行号）
  - 问题描述
  - 影响说明
  - 解决方案
  - 理由

**说明**：可能有多个评审报告（_1, _2, _3），对应多轮评审

### 05_项目总结.md
**生成者**：summarizer
**用途**：综合所有文档，生成完整的项目交付报告

**包含内容**：
- 项目概览（背景、目标、成果）
- 需求说明（功能需求和非功能需求）
- 技术架构（技术栈、架构图、数据流向）
- 实现方案（模块划分、技术实现、技术难点）
- 项目数据（代码统计、测试覆盖、质量指标）
- 验收情况（需求完成度、代码评审结果）
- 经验总结（成功经验、改进建议、技术债务）
- 附录（相关文档、Git 提交记录）

## 🔄 工作流程

完整的开发流程由 **workflow-orchestrator** 协调，按以下顺序执行：

```
用户需求
    ↓
① requirement-analyst
    ↓ 产出：01_需求文档.md
    ↓
② architect-analyst
    ↓ 产出：02_技术选型文档.md
    ↓
③ task-planner
    ↓ 产出：03_任务分解.md
    ↓
④ task-executor
    ↓ 执行任务列表中的所有任务
    ↓
⑤ code-reviewer
    ↓ 产出：04_代码评审报告_1.md
    ↓
    ├─ 如果有问题 → task-executor 修复 → code-reviewer 复审
    │                      ↓
    │               04_代码评审报告_2.md
    │                      ↓
    │               （最多 3 次重试）
    ↓
⑥ summarizer
    ↓ 产出：05_项目总结.md
    ↓
项目完成 🎉
```

## 📝 文档命名规范

- **标准文档**：使用序号前缀，格式为 `0X_文档名称.md`
- **多版本文档**：使用下划线分隔版本号，如 `04_代码评审报告_1.md`
- **临时文档**：不使用序号前缀，文件名自定义

## 🎯 使用建议

### 查看项目完整过程
阅读顺序：01 → 02 → 03 → 05（跳过代码评审报告，除非需要了解具体问题）

### 理解技术决策
重点查看：02_技术选型文档.md 中的"技术决策记录 (ADR)"部分

### 复用开发经验
重点查看：05_项目总结.md 中的"经验总结"部分

### 排查历史问题
查看所有 04_代码评审报告_*.md，了解开发过程中遇到的问题

## ⚠️ 注意事项

1. **文档自动生成**：这些文档由 agents 自动生成，不要手动修改
2. **版本管理**：文档应该提交到 Git，作为项目知识资产
3. **隐私保护**：确保文档中不包含敏感信息（API 密钥、密码等）
4. **定期清理**：旧的或废弃的文档应该移动到 `docs/workflow/archive/` 目录

## 📚 相关资源

- Agent 配置目录：`.claude/agents/`
- 项目开发规范：`CLAUDE.md`
- 架构设计指南：`docs/architected.md`
- Claude Code 文档：https://docs.claude.com/en/docs/claude-code

---

**维护说明**：
- 此 README 文件用于说明目录结构和使用方法
- 由 workflow-orchestrator 在首次运行时创建
- 如需更新，请联系项目维护者
